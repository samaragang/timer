<!DOCTYPE html>
<html>
<head>
<style>
  #timer {
    font-size: 36px;
    text-align: center;
    margin-bottom: 10px;
  }
</style>
</head>
<body>
<div>
  <h1>Секундомер</h1>
  <div id="timer">00:00:00</div>
  <div>Время в часах: <span id="hours">0.00</span></div>
  <button onclick="startStopTimer()">Старт</button>
  <button onclick="resetTimer()">Сбросить</button>
</div>

<script>
  let startTime = 0;
  let intervalId;
  let isRunning = false;
  let isPaused = false;

  function startStopTimer() {
    if (isRunning) {
      if (isPaused) {
        startTimer();
        document.querySelector("button").innerText = "Стоп";
      } else {
        pauseTimer();
        document.querySelector("button").innerText = "Продолжить";
      }
    } else {
      startTimer();
      document.querySelector("button").innerText = "Стоп";
    }
    isRunning = !isRunning;
    isPaused = !isPaused;
  }

  function startTimer() {
    if (!isRunning) {
      if (isPaused) {
        startTime = Date.now() - (startTime > 0 ? startTime : 0);
      } else {
        startTime = Date.now();
      }
      intervalId = setInterval(updateTimer, 1000);
    }
  }

  function pauseTimer() {
    clearInterval(intervalId);
  }

  function resetTimer() {
    clearInterval(intervalId);
    startTime = 0;
    updateTimer();
    document.querySelector("button").innerText = "Старт";
    isRunning = false;
    isPaused = false;
  }

  function updateTimer() {
    const currentTime = Date.now() - startTime;
    const seconds = Math.floor(currentTime / 1000) % 60;
    const minutes = Math.floor(currentTime / 1000 / 60) % 60;
    const hours = Math.floor(currentTime / 1000 / 60 / 60);

    document.getElementById("timer").innerText = `${String(hours).padStart(2, "0")}:${String(minutes).padStart(2, "0")}:${String(seconds).padStart(2, "0")}`;
    
    // Вычисляем время в часах и обновляем его
    const timeInHours = currentTime / 1000 / 60 / 60;
    document.getElementById("hours").innerText = timeInHours.toFixed(2);
  }
</script>
</body>
</html>
